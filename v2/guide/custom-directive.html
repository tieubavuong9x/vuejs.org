

<!DOCTYPE html>
<html lang="vi">
  <head>
    <title>Directive tùy biến — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - Framework JavaScript linh động">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/guide/custom-directive.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/guide/custom-directive.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/guide/custom-directive.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/guide/custom-directive.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/guide/custom-directive.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/guide/custom-directive.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/guide/custom-directive.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Directive tùy biến — Vue.js">
    <meta property="og:description" content="Vue.js - Framework JavaScript linh động">
    <meta property="og:image" content="https://vi.vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Directive tùy biến — Vue.js">
    <meta name="twitter:description" content="Vue.js - Framework JavaScript linh động">
    <meta name="twitter:image" content="https://vi.vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>window.PAGE_TYPE = "guide"</script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'vi.vuejs.org');
      ga('send', 'pageview');
    </script>
  </head>
  <body class="docs">    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Học Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/v2/guide/" class="nav-link current">Hướng dẫn</a></li>
      <li><a href="/v2/api/" class="nav-link">API</a></li>
      <li><a href="/v2/style-guide/" class="nav-link">Style Guide</a></li>
      <li><a href="/v2/examples/" class="nav-link">Một số ví dụ</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Hệ sinh thái</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Hỗ trợ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank">Diễn đàn</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Chat</a></li>
    </ul></li>
    <li><h4>Công cụ</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Devtools</a></li>
        <li><a href="https://vuejs-templates.github.io/webpack" class="nav-link" target="_blank">Webpack Template</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Thư viện chính thức</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Tin tức</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank">Lộ trình phát triển</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Việc làm</a></li>
    </ul></li>
    <li><h4>Tài nguyên</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Nhóm Vue.js trên GitHub</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Đội ngũ</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a class="nav-link">Hỗ trợ Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Cửa hàng</a></li>
      <li><a href="https://opencollective.com/vuejs" target="_blank" class="nav-link">Hỗ trợ Vue trên OpenCollective</a></li>
      <li><a href="https://www.patreon.com/evanyou" target="_blank" class="nav-link">Hỗ trợ Evan trên Patreon</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Ngôn ngữ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">Français</a></li>
  </ul>
</li>


  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Học Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/v2/guide/" class="nav-link current">Hướng dẫn</a></li>
      <li><a href="/v2/api/" class="nav-link">API</a></li>
      <li><a href="/v2/style-guide/" class="nav-link">Style Guide</a></li>
      <li><a href="/v2/examples/" class="nav-link">Một số ví dụ</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Hệ sinh thái</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Hỗ trợ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank">Diễn đàn</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Chat</a></li>
    </ul></li>
    <li><h4>Công cụ</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Devtools</a></li>
        <li><a href="https://vuejs-templates.github.io/webpack" class="nav-link" target="_blank">Webpack Template</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Thư viện chính thức</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Tin tức</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank">Lộ trình phát triển</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Việc làm</a></li>
    </ul></li>
    <li><h4>Tài nguyên</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Nhóm Vue.js trên GitHub</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Đội ngũ</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a class="nav-link">Hỗ trợ Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Cửa hàng</a></li>
      <li><a href="https://opencollective.com/vuejs" target="_blank" class="nav-link">Hỗ trợ Vue trên OpenCollective</a></li>
      <li><a href="https://www.patreon.com/evanyou" target="_blank" class="nav-link">Hỗ trợ Evan trên Patreon</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Ngôn ngữ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/custom-directive.html" class="nav-link" target="_blank">Français</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
      <div class="main-sponsor">
        <span>Nhà tài trợ bạch kim</span><br>
        <a href="https://stdlib.com" target="_blank" class="logo">
          <img src="/images/stdlib.png">
        </a>
      </div>
      <a class="become-backer" href="/support-vuejs">
        Trở thành nhà tài trợ
      </a>
      <h2>
        
          Hướng dẫn
        
        <!--
        
          <select class="version-select">
            <option value="SELF" selected>2.x</option>
            <option value="v1">1.0</option>
            <option value="012">0.12</option>
            <option value="011">0.11</option>
          </select>
        
        -->
      </h2>
      <ul class="menu-root">
  
    
    
      
        <li><h3>Khái niệm cơ bản</h3></li>
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/installation.html" class="sidebar-link">Cài đặt</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/index.html" class="sidebar-link">Giới thiệu</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/instance.html" class="sidebar-link">Đối tượng Vue</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/syntax.html" class="sidebar-link">Template Syntax</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/computed.html" class="sidebar-link">Computed property và watcher</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/class-and-style.html" class="sidebar-link">Binding cho class và style</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/conditional.html" class="sidebar-link">Render theo điều kiện</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/list.html" class="sidebar-link">Render danh sách</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/events.html" class="sidebar-link">Xử lí sự kiện</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/forms.html" class="sidebar-link">Form Input Bindings</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/components.html" class="sidebar-link">Component</a>
    </li>
  
    
    
      
      
        <li><h3>Hiệu ứng chuyển động</h3></li>
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/transitions.html" class="sidebar-link">Transition cho enter/leave & danh sách</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/transitioning-state.html" class="sidebar-link">Transition cho trạng thái</a>
    </li>
  
    
    
      
      
      
        <li><h3>Tái sử dụng & kết hợp</h3></li>
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/mixins.html" class="sidebar-link">Mixins</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/custom-directive.html" class="sidebar-link current">Directive tùy biến</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/render-function.html" class="sidebar-link">Render Functions & JSX</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/plugins.html" class="sidebar-link">Plugins</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/filters.html" class="sidebar-link">Filters</a>
    </li>
  
    
    
      
      
      
      
        <li><h3>Công cụ</h3></li>
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/deployment.html" class="sidebar-link">Triển khai cho môi trường production</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/single-file-components.html" class="sidebar-link">Single File Components</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/unit-testing.html" class="sidebar-link">Unit Testing</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/typescript.html" class="sidebar-link">TypeScript Support</a>
    </li>
  
    
    
      
      
      
      
      
        <li><h3>Mở rộng quy mô ứng dụng</h3></li>
      
      
      
    
    
    <li>
      <a href="/v2/guide/routing.html" class="sidebar-link">Routing</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/state-management.html" class="sidebar-link">State Management</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/ssr.html" class="sidebar-link">Server-Side Rendering</a>
    </li>
  
    
    
      
      
      
      
      
      
        <li><h3>Bên trong Vue</h3></li>
      
      
    
    
    <li>
      <a href="/v2/guide/reactivity.html" class="sidebar-link">Reactivity in Depth</a>
    </li>
  
    
    
      
      
      
      
      
      
      
        <li><h3>Thông tin thêm</h3></li>
      
    
    
    <li>
      <a href="/v2/guide/comparison.html" class="sidebar-link">Comparison with Other Frameworks</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/join.html" class="sidebar-link">Join the Vue.js Community!</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/team.html" class="sidebar-link">Meet the Team</a>
    </li>
  
  
</ul>

    </div>
  </div>
</div>


<div class="content guide with-sidebar custom-directive-guide">
  
    
      <div id="ad">
  <script>
    (function () {
      var s = document.createElement('script')
      s.setAttribute('async', '')
      s.src = '//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs'
      s.id = '_carbonads_js'
      document.getElementById('ad').appendChild(s)
    })()
  </script>
</div>

    
  
  
    <h1>Directive tùy biến</h1>
  
  <h2 id="Gioi-thieu"><a href="#Gioi-thieu" class="headerlink" title="Giới thiệu"></a>Giới thiệu</h2><p>Bên cạnh những directive được cung cấp mặc định (<code>v-model</code> và <code>v-show</code>), Vue cũng cho phép bạn đăng kí các directive tùy biến của riêng mình. Lưu ý là trong phiên bản Vue 2.0, cách tốt nhất để sử dụng lại và trừu tượng hóa code là dùng <a href="components.html">component</a>, tuy nhiên có thể có những lúc bạn cần một số truy xuất cấp thấp đến các phần tử web, và trong những trường hợp này thì directive tùy biến sẽ trở nên hữu ích. Ví dụ, đây là một phần tử input được focus tự động:</p>

<div id="simplest-directive-example" class="demo">
  <input v-focus="">
</div>
<script>
Vue.directive('focus', {
  inserted: function (el) {
    el.focus()
  }
})
new Vue({
  el: '#simplest-directive-example'
})
</script>

<p>Khi trang này được tải, phần tử trên đây sẽ được focus (lưu ý: tính năng focus tự động không được hỗ trợ trên mobile Safari). Nếu bạn chưa hề bấm vào bất kì đâu khác trên trang, ngay lúc này phần tử input sẽ có focus. Giờ chúng ta hãy viết directive hỗ trợ cho tính năng này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Đăng kí một directive tùy biến cấp toàn cục với tên là `v-focus`</span></div><div class="line">Vue.directive(<span class="string">'focus'</span>, &#123;</div><div class="line">  <span class="comment">// Khi phần tử liên quan được thêm vào DOM...</span></div><div class="line">  inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="comment">// Ta gán focus vào phần tử đó</span></div><div class="line">    el.focus()</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Nếu muốn đăng kí directive ở cấp cục bộ thay vì toàn cục, bạn có thể dùng tùy chọn <code>directives</code> khi khai báo component:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">directives: &#123;</div><div class="line">  focus: &#123;</div><div class="line">    <span class="comment">// định nghĩa cho directive</span></div><div class="line">    inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">      el.focus()</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Sau đó trong template, bạn có thể dùng thuộc tính <code>v-focus</code> trên bất kì phần tử nào, như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-focus</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Cac-ham-hook"><a href="#Cac-ham-hook" class="headerlink" title="Các hàm hook"></a>Các hàm hook</h2><p>Một object khai báo directive có thể cung cấp một số hàm hook (tất cả các hàm này đều không bắt buộc):</p>
<ul>
<li><p><code>bind</code>: chỉ được gọi một lần, khi directive được bind (ràng buộc) vào phần tử. Đây là nơi bạn có thể thực hiện các thao tác cài đặt một lần.</p>
</li>
<li><p><code>inserted</code>: được gọi khi element đã được chèn (insert) vào phần tử cha (điều này chỉ bảo đảm là phần tử cha đã được tạo ra chứ không chắc là nó đã tồn tại trong DOM).</p>
</li>
<li><p><code>update</code>: được gọi sau khi VNode của phần tử chứa đã cập nhật, <strong>nhưng có thể là trước khi các phần tử con được cập nhật</strong>. Giá trị của directive lúc này có thể đã thay đổi hoặc chưa, nhưng bạn có thể bỏ qua các thay đổi không cần thiết bằng cách so sánh hai giá trị cũ và mới (xem thông tin về tham số của hàm hook ở bên dưới).</p>
</li>
<li><p><code>componentUpdated</code>: được gọi sau khi VNode của phần tử chứa <strong>và VNode của toàn bộ các phần tử con</strong> đã cập nhật.</p>
</li>
<li><p><code>unbind</code>: chỉ được gọi một lần, khi directive được unbind khỏi phần tử.</p>
</li>
</ul>
<p>Chúng ta sẽ tìm hiểu về các tham số được truyền vào các hàm hook này trong phần tiếp theo.</p>
<h2 id="Tham-so-cua-cac-ham-hook"><a href="#Tham-so-cua-cac-ham-hook" class="headerlink" title="Tham số của các hàm hook"></a>Tham số của các hàm hook</h2><p>Các hàm hook cho directive được truyền vào các tham số sau đây:</p>
<ul>
<li><strong>el</strong>: Phần tử được directive bind vào. Tham số này có thể được dùng để thay đổi DOM một cách trực tiếp.</li>
<li><strong>binding</strong>: Một object chứa những thuộc tính sau:<ul>
<li><strong>name</strong>: Tên của directive, không có tiếp đầu ngữ <code>v-</code>.</li>
<li><strong>value</strong>: Gái trị được truyền vào directive. Ví dụ với <code>v-my-directive=&quot;1 + 1&quot;</code> thì <code>value</code> sẽ là <code>2</code>.</li>
<li><strong>oldValue</strong>: Giá trị trước đây, chỉ tồn tại trong các hook <code>update</code> và <code>componentUpdated</code>. <code>oldValue</code> sẽ luôn có cho dù giá trị có được thay đổi hay không.</li>
<li><strong>expression</strong>: Biểu thức của binding dưới dạng chuỗi. Ví dụ với <code>v-my-directive=&quot;1 + 1&quot;</code>, thì <code>expression</code> sẽ là <code>&quot;1 + 1&quot;</code>.</li>
<li><strong>arg</strong>: Tham số được truyền vào directive, nếu có. Ví dụ với <code>v-my-directive:foo</code> thì <code>arg</code> sẽ là <code>&quot;foo&quot;</code>.</li>
<li><strong>modifiers</strong>: Một object chứa các modifier, nếu có. Ví dụ với <code>v-my-directive.foo.bar</code>, thì <code>modifiers</code> sẽ là <code>{ foo: true, bar: true }</code>.</li>
</ul>
</li>
<li><strong>vnode</strong>: Vnode được trình biên dịch của Vue tạo ra. Xem thêm chi tiết tại <a href="../api/#Giao-dien-cua-VNode">VNode API</a>.</li>
<li><strong>oldVnode</strong>: VNode trước đây, chỉ tồn tại trong các hook <code>update</code> và <code>componentUpdated</code>.</li>
</ul>
<p class="tip">Ngoài <code>el</code>, bạn nên coi là read-only (chỉ đọc) và đừng bao giờ chỉnh sửa các tham số này. Nếu muốn chia sẻ thông tin giữa các hook với nhau, bạn nên dùng <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset" target="_blank" rel="external">dataset</a>.</p>

<p>Sau đây là ví dụ về một directive tùy biến với các thuộc tính này:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hook-arguments-example"</span> <span class="attr">v-demo:foo.a.b</span>=<span class="string">"message"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'demo'</span>, &#123;</div><div class="line">  bind: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding, vnode</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> s = <span class="built_in">JSON</span>.stringify</div><div class="line">    el.innerHTML =</div><div class="line">      <span class="string">'name: '</span>       + s(binding.name) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'value: '</span>      + s(binding.value) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'expression: '</span> + s(binding.expression) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'argument: '</span>   + s(binding.arg) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'modifiers: '</span>  + s(binding.modifiers) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'vnode keys: '</span> + <span class="built_in">Object</span>.keys(vnode).join(<span class="string">', '</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#hook-arguments-example'</span>,</div><div class="line">  data: &#123;</div><div class="line">    message: <span class="string">'Cà rốt'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="hook-arguments-example" v-demo:foo.a.b="message" class="demo"></div>
<script>
Vue.directive('demo', {
  bind: function (el, binding, vnode) {
    var s = JSON.stringify
    el.innerHTML =
      'name: '       + s(binding.name) + '<br>' +
      'value: '      + s(binding.value) + '<br>' +
      'expression: ' + s(binding.expression) + '<br>' +
      'argument: '   + s(binding.arg) + '<br>' +
      'modifiers: '  + s(binding.modifiers) + '<br>' +
      'vnode keys: ' + Object.keys(vnode).join(', ')
  }
})
new Vue({
  el: '#hook-arguments-example',
  data: {
    message: 'Cà rốt'
  }
})
</script>

<h2 id="Cach-khai-bao-rut-gon"><a href="#Cach-khai-bao-rut-gon" class="headerlink" title="Cách khai báo rút gọn"></a>Cách khai báo rút gọn</h2><p>Trong nhiều trường hợp, có thể bạn muốn <code>bind</code> và <code>update</code> có chung một hành vi và không quan tâm đến các hook khác. Những lúc này bạn có thể dùng cách khai báo directive rút gọn, ví dụ:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'color-swatch'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">  el.style.backgroundColor = binding.value</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="Truyen-object-truc-tiep"><a href="#Truyen-object-truc-tiep" class="headerlink" title="Truyền object trực tiếp"></a>Truyền object trực tiếp</h2><p>Nếu directive của bạn cần nhiều giá trị cùng một lúc, bạn có thể trực tiếp truyền vào một object. Nhớ là directive trong Vue có thể nhận bất kì biểu thức JavaScript hợp lệ nào.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-demo</span>=<span class="string">"&#123; color: 'white', text: 'Su hào' &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'demo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(binding.value.color) <span class="comment">// =&gt; "white"</span></div><div class="line">  <span class="built_in">console</span>.log(binding.value.text)  <span class="comment">// =&gt; "Su hào"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>

  
    <div class="guide-links">
      
        <span>← <a href="/v2/guide/mixins.html">Mixins</a></span>
      
      
        <span style="float: right;"><a href="/v2/guide/render-function.html">Render Functions & JSX</a> →</span>
      
    </div>
  
  <div class="footer">
    <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD62QM', 'placement:vuejsorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

    Phát hiện lỗi hoặc muốn đóng góp vào nội dung?
    <a href="https://github.com/vuejs/vuejs.org/blob/master/src/v2/guide/custom-directive.md" target="_blank">
      Chỉnh sửa trang này trên GitHub!
    </a>
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] }
      })
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
